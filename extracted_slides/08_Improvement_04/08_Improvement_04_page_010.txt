双塔模型：抽样用户行为序列

• 用户最近交互的n个物品（用户行为序列）是用户塔的输入。

• 保留最近的r个物品（r << n）。

• 从剩余的n - r个物品中随机抽样t个物品（t << n）。（可以是均匀抽样，也可以用非均匀抽样让类目平衡。）

• 将得到的r + t个物品作为用户行为序列，而不是用全部n个物品。

• 抽样用户行为序列为什么能涨指标？
  • 一方面，注入随机性，召回结果更多样化。
  • 另一方面，n可以非常大，可以利用到用户很久之前的兴趣。